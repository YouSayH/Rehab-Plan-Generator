# Rehab Plan Generator (RPG)

é›»å­ã‚«ãƒ«ãƒ†é€£æºã€äºˆå¾Œäºˆæ¸¬ã€é¡ä¼¼ç—‡ä¾‹æ¤œç´¢ã‚’å‚™ãˆãŸã€Œãƒªãƒãƒ“ãƒªãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ç·åˆå®Ÿæ–½è¨ˆç”»æ›¸ã€ä½œæˆæ”¯æ´ã‚·ã‚¹ãƒ†ãƒ ã€‚
ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­·ï¼ˆHashIDé‹ç”¨ï¼‰ã¨ã€é–‰åŸŸç¶²ã§ã®é‹ç”¨ï¼ˆã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œï¼‰ã‚’å‰æã¨ã—ãŸè¨­è¨ˆã«ãªã£ã¦ã„ã¾ã™ã€‚

## ğŸš€ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

* **Frontend:** React 19, TypeScript, Vite, Univer (Spreadsheet)
* **Backend:** Python 3.11, FastAPI, SQLAlchemy (Async), LangChain (Planned)
* **Database:** PostgreSQL 16 + pgvector (Vector Search)
* **Infrastructure:** Docker, Nginx

## ğŸ› ï¸ ç’°å¢ƒæ§‹ç¯‰ & èµ·å‹•

Docker Desktop ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¯ãƒ­ãƒ¼ãƒ³ï¼ˆåˆå›ã®ã¿ï¼‰
git clone <repository-url>
cd rehab-plan-generator

# èµ·å‹• (ãƒ“ãƒ«ãƒ‰å«ã‚€)
docker compose up --build

```

* **Frontend:** http://localhost (NginxçµŒç”±)
* **Backend API:** http://localhost:8000/docs (Swagger UI)

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ
```Text
rehab-plan-generator/
â”œâ”€â”€ .env.example             # ğŸ” ç’°å¢ƒå¤‰æ•°ã®ã‚µãƒ³ãƒ—ãƒ« (Gitç®¡ç†å¯¾è±¡)
â”œâ”€â”€ .env                     # ğŸ” å®Ÿéš›ã®ç’°å¢ƒå¤‰æ•° (Gité™¤å¤–)
â”œâ”€â”€ .gitignore
â”œâ”€â”€ .dockerignore
â”œâ”€â”€ README.md
â”œâ”€â”€ CONTRIBUTING.md          # ğŸ“œ é–‹ç™ºãƒ«ãƒ¼ãƒ«ãƒ»ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³
â”œâ”€â”€ compose.yaml             # ğŸ³ ã€ãƒ¡ã‚¤ãƒ³ã€‘é–‹ç™ºç”¨ã®ä¸€ç™ºèµ·å‹•è¨­å®š (docker compose up)
â”‚
â”œâ”€â”€ contracts/               # ğŸ¤ APIã‚¹ã‚­ãƒ¼ãƒãƒ»ä»•æ§˜æ›¸ (The Contract)
â”‚   â”œâ”€â”€ openapi.yaml         # ãƒ•ãƒ­ãƒ³ãƒˆã¨ãƒãƒƒã‚¯ã‚’ã¤ãªãå¥‘ç´„æ›¸ (SSOT)
â”‚   â””â”€â”€ architecture.md      # ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³ãƒ»æ±ºå®šäº‹é …
â”‚
â”œâ”€â”€ backend/                 # ğŸ Python (FastAPI)
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ pyproject.toml       # ä¾å­˜é–¢ä¿‚ç®¡ç† (uv / poetry)
â”‚   â”œâ”€â”€ alembic.ini          # DBãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
â”‚   â”œâ”€â”€ app/                 # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰æœ¬ä½“
â”‚   â”‚   â”œâ”€â”€ main.py          # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ core/            # è¨­å®šãƒ»å…±é€šéƒ¨å“ (Config, Logging, Security)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ api/             # ğŸŒ Web Interface Layer (FastAPI Router)
â”‚   â”‚   â”‚   â”œâ”€â”€ v1/          # API Versioning
â”‚   â”‚   â”‚   â””â”€â”€ dependencies.py # DIã‚³ãƒ³ãƒ†ãƒŠå®šç¾©
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ usecases/        # ğŸ§  Application Business Rules (ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯éä¾å­˜)
â”‚   â”‚   â”‚   â”œâ”€â”€ plan_generation.py
â”‚   â”‚   â”‚   â””â”€â”€ prediction.py
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ adapters/        # ğŸ”Œ Interface Adapters (è…æ•—é˜²æ­¢å±¤)
â”‚   â”‚   â”‚   â”œâ”€â”€ llm/         # LLMã®åˆ‡ã‚Šæ›¿ãˆ (Gemini, Ollama...)
â”‚   â”‚   â”‚   â”œâ”€â”€ ehr/         # é›»å­ã‚«ãƒ«ãƒ†é€£æº (Vendor A, CSV...)
â”‚   â”‚   â”‚   â””â”€â”€ storage/     # ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ (Local, S3...)
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ infrastructure/  # ğŸ—ï¸ Frameworks & Drivers (è©³ç´°å®Ÿè£…)
â”‚   â”‚       â”œâ”€â”€ db/          # SQLAlchemy Models, Session
â”‚   â”‚       â””â”€â”€ repositories/# ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å®Ÿè£…
â”‚   â”‚
â”‚   â”œâ”€â”€ ml_engine/           # ğŸ¤– AIãƒ¢ãƒ‡ãƒ«å­¦ç¿’ãƒ»æ¨è«–å°‚ç”¨ (APIã¨ã¯åˆ†é›¢)
â”‚   â”‚   â”œâ”€â”€ training/        # LightGBMç­‰ã®å­¦ç¿’ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”‚   â”œâ”€â”€ models/          # å­¦ç¿’æ¸ˆã¿ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚¡ã‚¤ãƒ« (.pkl, .bin)
â”‚   â”‚   â””â”€â”€ notebooks/       # å®Ÿé¨“ç”¨Jupyter Notebook
â”‚   â”‚
â”‚   â”œâ”€â”€ tests/               # âœ… ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ (Pytest)
â”‚   â”‚   â”œâ”€â”€ unit/            # å˜ä½“ãƒ†ã‚¹ãƒˆ (usecases, adapters)
â”‚   â”‚   â””â”€â”€ integration/     # çµåˆãƒ†ã‚¹ãƒˆ (api, db)
â”‚   â”‚
â”‚   â””â”€â”€ requirements/        # ğŸ“¦ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå®šç¾© (ç’°å¢ƒåˆ¥)
â”‚       â”œâ”€â”€ _base.txt        # å…±é€š (FastAPI, SQLAlchemyç­‰)
â”‚       â”œâ”€â”€ local_gpu.txt    # ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ»GPUç”¨ (Torch+CUDAç­‰)
â”‚       â””â”€â”€ cloud_llm.txt    # ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ»è»½é‡ç‰ˆ (GenAIç­‰)
â”‚
â”œâ”€â”€ frontend/                # âš›ï¸ React + TypeScript
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ vite.config.ts
â”‚   â”œâ”€â”€ src/                 # ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
â”‚   â”‚   â”œâ”€â”€ adapters/        # ğŸ”Œ APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ (è‡ªå‹•ç”Ÿæˆã‚³ãƒ¼ãƒ‰ç­‰)
â”‚   â”‚   â”œâ”€â”€ components/      # å…±é€šUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ features/        # æ©Ÿèƒ½å˜ä½ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« (ç”»é¢+ãƒ­ã‚¸ãƒƒã‚¯)
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â””â”€â”€ editor/
â”‚   â”‚   â”œâ”€â”€ hooks/           # Custom Hooks
â”‚   â”‚   â”œâ”€â”€ types/           # å‹å®šç¾©
â”‚   â”‚   â””â”€â”€ utils/           # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
â”‚   â””â”€â”€ public/              # ğŸŒ é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”‚       â””â”€â”€ libs/            # ğŸ“¦ ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
â”‚           â””â”€â”€ Univer/  # ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆ(Univer) JS/CSSä¸€å¼
â”‚
â”œâ”€â”€ db/                      # ğŸ˜ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é–¢é€£
â”‚   â”œâ”€â”€ init/                # ã‚³ãƒ³ãƒ†ãƒŠåˆå›èµ·å‹•ç”¨SQL
â”‚   â”‚   â””â”€â”€ 00_init_pgvector.sql # pgvectoræœ‰åŠ¹åŒ–ãªã©
â”‚   â””â”€â”€ migrations/          # Alembicãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚
â”œâ”€â”€ nginx/                   # ğŸŒ Webã‚µãƒ¼ãƒãƒ¼ (ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·)
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ conf.d/
â”‚       â””â”€â”€ default.conf     # ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¨­å®š
â”‚
â”œâ”€â”€ ops/                     # ğŸ›  é‹ç”¨ãƒ»æ§‹æˆç®¡ç† (Operations)
â”‚   â”œâ”€â”€ compose.prod.yaml    # æœ¬ç•ªã‚µãƒ¼ãƒãƒ¼ç”¨è¨­å®š
â”‚   â”œâ”€â”€ compose.gpu.yaml     # GPUã‚µãƒ¼ãƒãƒ¼ç”¨è¨­å®š
â”‚   â””â”€â”€ scripts/             # ä¾¿åˆ©ã‚¹ã‚¯ãƒªãƒ—ãƒˆ (DBãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—, Restoreç­‰)
â”‚
â”œâ”€â”€ tools/                   # ğŸ›  é–‹ç™ºæ”¯æ´ãƒ„ãƒ¼ãƒ«
â”‚   â”œâ”€â”€ db_seeder/           # ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â””â”€â”€ codegen/             # OpenAPIã‹ã‚‰å‹å®šç¾©ã‚’ç”Ÿæˆã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚
â”œâ”€â”€ logs/                    # ğŸ“ ãƒ­ã‚°å‡ºåŠ›å…ˆ (Docker Mount)
â”‚   â”œâ”€â”€ app/                 # ã‚¢ãƒ—ãƒªãƒ­ã‚°
â”‚   â”œâ”€â”€ db/                  # DBãƒ­ã‚°
â”‚   â””â”€â”€ nginx/               # ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°
â”‚
â”œâ”€â”€ data/                    # ğŸ“„ ãƒ‡ãƒ¼ã‚¿ãƒ»è³‡æ–™ç½®ãå ´
â”‚   â”œâ”€â”€ samples/             # ãƒ†ã‚¹ãƒˆç”¨Excel/CSV
â”‚   â””â”€â”€ docs/                # è¨­è¨ˆæ›¸ã‚„ä»•æ§˜æ›¸
â”‚
â””â”€â”€ .github/                 # ğŸ™ GitHubè¨­å®š
    â””â”€â”€ workflows/           # CI/CDè¨­å®š
```

## ğŸ¤ é–‹ç™ºãƒ«ãƒ¼ãƒ«

`CONTRIBUTING.md` ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## License

Private / Proprietary
